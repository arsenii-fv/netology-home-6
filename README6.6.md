## Домашнее задание к занятию "6.6. Troubleshooting"
### Задача 1
````
    Перед выполнением задания ознакомьтесь с документацией по администрированию MongoDB.
Пользователь (разработчик) написал в канал поддержки, что у него уже 3 минуты происходит CRUD операция в MongoDB и её нужно прервать.
Вы как инженер поддержки решили произвести данную операцию:
    напишите список операций, которые вы будете производить для остановки запроса пользователя
    предложите вариант решения проблемы с долгими (зависающими) запросами в MongoDB
````
````
    Определить в какой базе произошло зависание.
    Если с базой работает несколько пользователей, узнать нет ли у них зависших операций, и как у них происходит обращение к базе.
    Проверить состояние службы mongodb.
    Обзор логов БД.
    
    1 db.currentOp({"secs_running":{$gte:180}})
    2 db.inventory.find(
        {quantity: {$gte: 100, $lte: 200 }}
        ).explain("executionStats")
    3 db.killOp(<opid of the query to kill>) , либо дождаться окончания выполнения запроса 
````
### Задача 2
````
    Перед выполнением задания познакомьтесь с документацией по Redis latency troobleshooting.
Вы запустили инстанс Redis для использования совместно с сервисом, который использует механизм TTL. 
Причем отношение количества записанных key-value значений к количеству истёкших значений есть величина постоянная и 
увеличивается пропорционально количеству реплик сервиса.
При масштабировании сервиса до N реплик вы увидели, что:
    сначала рост отношения записанных значений к истекшим
    Redis блокирует операции записи
Как вы думаете, в чем может быть проблема?
````
````
$ ./redis-cli --intrinsic-latency 100
````
### Задача 3
````
    Перед выполнением задания познакомьтесь с документацией по Common Mysql errors.
Вы подняли базу данных MySQL для использования в гис-системе. При росте количества записей, в таблицах базы, пользователи начали жаловаться на ошибки вида:
InterfaceError: (InterfaceError) 2013: Lost connection to MySQL server during query u'SELECT..... '
Как вы думаете, почему это начало происходить и как локализовать проблему?
Какие пути решения данной проблемы вы можете предложить?
````
````
````
### Задача 4
````
    Перед выполнением задания ознакомтесь со статьей Common PostgreSQL errors из блога Percona.
Вы решили перевести гис-систему из задачи 3 на PostgreSQL, так как прочитали в документации, что эта СУБД работает с большим объемом данных лучше, чем MySQL.
После запуска пользователи начали жаловаться, что СУБД время от времени становится недоступной. В dmesg вы видите, что:
postmaster invoked oom-killer
Как вы думаете, что происходит?
Как бы вы решили данную проблему?
````
````
